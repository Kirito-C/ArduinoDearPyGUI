#include <DHT11.h>
#include <ArduinoJson.h>

#define DHT_PIN 2
DHT11 dht11(DHT_PIN);

void setup() {
  Serial.begin(9600);
}

void loop() {
  StaticJsonDocument<200> doc;
  
  int temp = 0;
  int hum = 0;

  int result = dht11.readTemperatureHumidity(temp, hum);
  
  if(result == 0) {
    doc["time"] = millis();
    doc["temp"] = temp;
    doc["humidity"] = hum;
    
    serializeJson(doc, Serial);
    Serial.println();
  }
  
  delay(5000);
}
